{% if configured %}
<div class="iterative-xblock-container_block xmodule_display xmodule_HtmlModule">
    <div class="iterative-xblock iterative-xblock-style-{{style}}{% if gridlines %} iterative-xblock-gridlines{% endif %}"
        id="{{xblock.type}}{{location}}">
        <div class="exptop">
            <h1 class="iterative-xblock-title">{{title}}</h1>
        </div>
        <div class="expmid">
            {% if indicator_class == 'unanswered' %}
            <div class="status {{ indicator_class }}" id="status_{{ location }}"></div>
            {% else %}
            <div class="status " id="status_{{ location }}"></div>
            {% endif %}
            <style>
                .iterative-xblock-gridarea {
                    display: grid;
                    grid-template-areas: {% for line in content.true_grid %}"{{ line }}" {% endfor %};
                }
                {% for cell_key, cell_value in content.content.items %}
                .{{ cell_key }} {
                    grid-area: {{ cell_key.5 }};
                    padding: {% if cell_value.type == 'text' %}1em{% else %}0{% endif %};
                    background-color: #f9f9f9;
                    border-left: {% if cell_value.format.border_left %}{% if cell_value.format.border_bold %}3px{% else %}1px{% endif %} solid #000;{% else %}none;{% endif %}
                    border-right: {% if cell_value.format.border_right %}{% if cell_value.format.border_bold %}3px{% else %}1px{% endif %} solid #000;{% else %}none;{% endif %}
                    border-top: {% if cell_value.format.border_top %}{% if cell_value.format.border_bold %}3px{% else %}1px{% endif %} solid #000;{% else %}none;{% endif %}
                    border-bottom: {% if cell_value.format.border_bottom %}{% if cell_value.format.border_bold %}3px{% else %}1px{% endif %} solid #000;{% else %}none;{% endif %}
                    {% if cell_value.format.bold %}font-weight: bold;{% endif %}
                    {% if cell_value.format.italic %}font-style: italic;{% endif %}
                    {% if cell_value.format.underline %}text-decoration: underline;{% endif %}
                    {% if cell_value.format.horizontal_align == 'left' %}text-align: left;{% endif %}
                    {% if cell_value.format.horizontal_align == 'center' %}text-align: center;{% endif %}
                    {% if cell_value.format.horizontal_align == 'right' %}text-align: right;{% endif %}
                    {% if cell_value.format.horizontal_align == 'justify' %}text-align: justify;{% endif %}
                    {% if cell_value.format.vertical_align == 'top' %}vertical-align: top;{% endif %}
                    {% if cell_value.format.vertical_align == 'middle' %}vertical-align: middle;{% endif %}
                    {% if cell_value.format.vertical_align == 'bottom' %}vertical-align: bottom;{% endif %}
                }
                {% endfor %}
            </style>
            <div class="iterative-xblock-gridarea">
                {% for cell_key, cell_value in content.content.items %}
                <div class="{{ cell_key }}">
                    {% if cell_value.type == 'text' %}
                        {{ cell_value.content }}
                    {% elif cell_value.type == 'iframe' %}
                        <iframe src="{{ cell_value.content }}" width="100%" height="100%"></iframe>
                    {% elif cell_value.type == 'question' %}
                        <textarea class="iterative-xblock-question" id="{{ cell_key }}" name="{{ cell_key }}" value="" placeholder="{{ cell_value.metadata.placeholder }}"></textarea>
                    {% elif cell_value.type == 'answer' %}
                        <button id="iterative-xblock-student-get-answer-{{ cell_value.content }}" class="iterative-xblock-student-get-answer">{{ cell_value.metadata.placeholder }} ({{ cell_value.content }})</button>
                        <textarea hidden disabled type="text" class="iterative-xblock-student-answer" id="iterative-xblock-student-answer-{{ cell.content }}" ></textarea>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
            {% if show_submit_button %}
            <div class="action iterative-xblock-action">
                <button class="iterative-xblock-submit submit Submit"
                    aria-describedby="iterative-xblock_submit_{{ location }}">
                    <span>{{ submit_message }}</span>
                </button>
            </div>
            {% endif %}
            {% if enable_download %}
            <div class="centered">
                <button class="iterative-xblock-student-download-pdf"
                aria-describedby="iterative-xblock_download_{{ location }}">
                    <span>PDF</span>
                </button>
            </div>
            {% endif %}
            <div class="iterative-xblock-student-msg">
                <p id="iterative-xblock-student-error-msg" class="iterative-xblock-error-msg"></p>
            </div>
        </div>
    </div>
</div>
{% endif %}
